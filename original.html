<!DOCTYPE html>
<html><body>
    <!-- <script type="text/javascript" src="https://code.jquery.com/jquery-1.7.1.min.js"></script> -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.4.0.min.js"></script>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <script>
    function onSignIn(googleUser) {
        var profile = googleUser.getBasicProfile();
        console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.
        console.log('Name: ' + profile.getName());
        console.log('Image URL: ' + profile.getImageUrl());
        console.log('Email: ' + profile.getEmail()); // This is null if the 'email' scope is not present.
        //window.location = "https://www.google.com/maps/timeline/kml?authuser=0&pb=!1m8!1m3!1i2019!2i5!3i4!2m3!1i2019!2i5!3i4"
        //window.location = 'google.com';
        console.log('cookie: ' + document.cookie);
        // postData(1);
        //getData();
    }
    function postData(input) {
        $.ajax({
           type: "GET",
           headers: {'Access-Control-Allow-Origin': 'https://www.google.com/maps/timeline/kml?authuser=0&pb=!1m8!1m3!1i2019!2i5!3i4!2m3!1i2019!2i5!3i4'},
           url: "https://www.google.com/maps/timeline/kml?authuser=0&pb=!1m8!1m3!1i2019!2i5!3i4!2m3!1i2019!2i5!3i4",
           success: callbackFunc,
           xhrFields: { withCredentials: true },
           crossDomain: true,
           datatype: 'xml'
       });
    }
    function getData() {
        $.get("https://www.google.com/maps/timeline/kml?authuser=0&pb=!1m8!1m3!1i2019!2i5!3i4!2m3!1i2019!2i5!3i4", callbackFunc);
    }
    function callbackFunc(response) {
        // do something with the response
        console.log("SUCCESS");
        console.log(response);
    }

    function download_kml(user, date) {
        // This function assumes that the user has already been authorized.
        // Get URL
        var date_split = date.split('-'),
            year = date_split[0],
            month = date_split[1],
            day = data_split[2];
        if (parseInt(day) < 10){
    		day = parseInt(day);
        }
        month = parseInt(month) - 1;
        var url = "https://www.google.com/maps/timeline/kml?authuser=0&pb=!1m8!1m3!1i"+year+"!2i"+month+"!3i"+day+"!2m3!1i"+year+"!2i"+month+"!3i"+day;
        console.log(url);
        // Download KML
        window.open(url);
    }

    function toggle(id_val) {
        var x = document.getElementById(id_val);
        if (x.style.display === "none") {
            x.style.display = "block";
        } else {
            x.style.display = "none";
        }
    }
    </script>

    <meta name="google-signin-client_id" content="1060905353346-b38npddv13apf43pfdoin6cbht953j20.apps.googleusercontent.com">
    <div class="g-signin2" data-onsuccess="onSignIn"></div>
    <h1>user-3 Adam</h1>
        <div class="link"><a href="maps/user-3/user-3_2019-05-18.html">2019-05-18(Wien-Flughafen, 1300 Schwechat, Austria)</a></div>
        <div class="link"><a href="maps/user-3/user-3_2019-05-19.html">2019-05-19(Faiyum Desert Rd, Giza Governorate, Egypt)</a></div>
        <div class="link"><a href="maps/user-3/user-3_2019-05-20.html">2019-05-20(16 Saray El, Gezira St, Omar Al Khayam, Zamalek, Cairo Governorate 11211, Egypt)</a></div>
        <div class="link"><a href="maps/user-3/user-3_2019-05-21.html">2019-05-21(15 شارع سراي الجزيرة، Giza Governorate, Egypt)</a></div>
        <div class="link"><a href="maps/user-3/user-3_2019-05-22.html">2019-05-22(16 Saray El, Gezira St, Omar Al Khayam, Zamalek, Cairo Governorate 11211, Egypt)</a></div>
        <div class="link"><a href="maps/user-3/user-3_2019-05-23.html">2019-05-23(16 Saray El, Gezira St, Omar Al Khayam, Zamalek, Cairo Governorate 11211, Egypt)</a></div>
        <div class="link"><a href="maps/user-3/user-3_2019-05-24.html">2019-05-24(Oruba، Road، Qism El-Nozha, Cairo Governorate, Egypt)</a></div>
        <div class="link"><a href="maps/user-3/user-3_2019-05-25.html">2019-05-25(Oak Lawn, IL 60453)</a></div>
    <h1>user-2 Andrew</h1>
        <div>
            <img src="R_Graphs/user-2/user-2_bar_chart.png">
            <img src="R_Graphs/user-2/user-2_table.png">
        </div>
        <div class="link"><a href="maps/user-2/user-2_2019-06-17.html">2019-06-17 (1205 W Clark St, Urbana, IL 61801)</a>
            <button value="div_2_0" onclick="toggle(this.value)">2019-06-17 (1205 W Clark St, Urbana, IL 61801)</button>
            <div id="div_2_0" style="display:none">
            <iframe src="maps/user-2/user-2_2019-06-17.html" height="700" width="700"></iframe> 
            <img src="actual_maps/user-2/actual_6:17:19.png" height="700" width="700">
            </div>
        </div>
        <div class="link"><a href="maps/user-2/user-2_2019-06-18.html">2019-06-18 (Urbana, IL 61801)</a>
            <button value="div_2_1" onclick="toggle(this.value)">2019-06-18 (Urbana, IL 61801)</button>
            <div id="div_2_1" style="display:none">
            <iframe src="maps/user-2/user-2_2019-06-18.html" height="700" width="700"></iframe> 
            <img src="actual_maps/user-2/actual_6:18:19.png" height="700" width="700">
            </div>
        </div>
        <div class="link"><a href="maps/user-2/user-2_2019-06-19.html">2019-06-19 (Urbana, IL 61801)</a>
            <button value="div_2_2" onclick="toggle(this.value)">2019-06-19 (Urbana, IL 61801)</button>
            <div id="div_2_2" style="display:none">
            <iframe src="maps/user-2/user-2_2019-06-19.html" height="700" width="700"></iframe> 
            <img src="actual_maps/user-2/actual_6:19:19.png" height="700" width="700">
            </div>
        </div>
        <div class="link"><a href="maps/user-2/user-2_2019-06-20.html">2019-06-20 (Urbana, IL 61801)</a>
            <button value="div_2_3" onclick="toggle(this.value)">2019-06-20 (Urbana, IL 61801)</button>
            <div id="div_2_3" style="display:none">
            <iframe src="maps/user-2/user-2_2019-06-20.html" height="700" width="700"></iframe> 
            <img src="actual_maps/user-2/actual_6:20:19.png" height="700" width="700">
            </div>
        </div>
        <div class="link"><a href="maps/user-2/user-2_2019-06-21.html">2019-06-21 (Urbana, IL 61801)</a>
            <button value="div_2_4" onclick="toggle(this.value)">2019-06-21 (Urbana, IL 61801)</button>
            <div id="div_2_4" style="display:none">
            <iframe src="maps/user-2/user-2_2019-06-21.html" height="700" width="700"></iframe> 
            <img src="actual_maps/user-2/actual_6:21:19.png" height="700" width="700">
            </div>
        </div>
        <div class="link"><a href="maps/user-2/user-2_2019-06-22.html">2019-06-22 (Urbana, IL 61801)</a>
            <button value="div_2_5" onclick="toggle(this.value)">2019-06-22 (Urbana, IL 61801)</button>
            <div id="div_2_5" style="display:none">
            <iframe src="maps/user-2/user-2_2019-06-22.html" height="700" width="700"></iframe> 
            <img src="actual_maps/user-2/actual_6:22:19.png" height="700" width="700">
            </div>
        </div>
        <div class="link"><a href="maps/user-2/user-2_2019-06-23.html">2019-06-23 (Urbana, IL 61801)</a>
            <button value="div_2_6" onclick="toggle(this.value)">2019-06-23 (Urbana, IL 61801)</button>
            <div id="div_2_6" style="display:none">
            <iframe src="maps/user-2/user-2_2019-06-23.html" height="700" width="700"></iframe> 
            <img src="actual_maps/user-2/actual_6:23:19.png" height="700" width="700">
            </div>
        </div>
    <h1>user-1</h1>
        <div>
            <img src="R_Graphs/user-1/user-1_bar_chart.png">
            <img src="R_Graphs/user-1/user-1_table.png">
        </div>
        <div class="link"><a href="maps/user-1/user-1_2019-06-10.html">2019-06-10</a>
            <button value="div_1_0" onclick="toggle(this.value)">2019-06-10</button>
            <div id="div_1_0" style="display:none">
            <iframe src="maps/user-1/user-1_2019-06-10.html" height="700" width="700"></iframe> 
            <img src="actual_maps/user-1/actual_6:10:19.png" height="700" width="700">
            </div>
        </div>

</body></html>
